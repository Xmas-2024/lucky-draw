<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è–èª•æ´¾å°ä¸€ç•ªè³æŠ½ç</title>
  <script src="./js/all.js"></script>
  <link rel="stylesheet" href="./css/bg.css">
  <link rel="stylesheet" href="./css/list.css">
</head>

<body>
  <div class="background">
    <section class="snow">
      <div class="snowflake"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake1"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake2"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake3"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake4"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake5"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake6"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake7"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake8"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake9"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake10"><i class="fa-solid fa-snowflake"></i></div>
      <div class="snowflake11"><i class="fa-solid fa-snowflake"></i></div>
      <div class="snowflake12"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake13"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake14"><i class="fa-regular fa-snowflake"></i></div>
    </section>
  </div>
  <div class="list-container">
    <h1>ğŸ„ è–èª•æ´¾å°ä¸€ç•ªè³æŠ½ç ğŸ„</h1>
<div class="prizes">
      <div class="prize" id="prize-01" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-S1">DOUBLE CHANCE</div>
        <div class="prize-name">è¶…è±ªè¯è–èª•ç¦®ç›’</div>
        <div class="remaining">1/1</div>
      </div>
      <div class="prize" id="prize-02" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-S2">LAST ONE</div>
        <div class="prize-name">è±ªè¯è–èª•ç¦®ç›’</div>
        <div class="remaining">1/1</div>
      </div>
      <div class="prize" id="prize-03" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-A">A</div>
        <div class="prize-name">Dyson Supersonicâ„¢ Originé¢¨ç­’ | æ«»èŠ±ç²‰é™å®šè‰²</div>
        <div class="remaining">1/1</div>
      </div>
      <div class="prize" id="prize-04" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-B">B</div>
        <div class="prize-name">Sony WH-1000XM5 ç„¡ç·šé™å™ªè€³æ©Ÿ | é»‘è‰²</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-05" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-C">C</div>
        <div class="prize-name">BRUNO å¤šåŠŸèƒ½é›»ç†±é‹ | è—è‰²</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-06" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-D">D</div>
        <div class="prize-name">JBLFlip 6 ç„¡ç·šé˜²æ°´è—ç‰™å–‡å­ | è—è‰²</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-07" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-D">D</div>
        <div class="prize-name">Nothing Ear çœŸç„¡ç·šè—ç‰™è€³æ©Ÿï½œç¬¬ä¸‰ä»£ï½œç™½è‰²</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-08" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-E">E</div>
        <div class="prize-name">æ¨‚ä¿¡ Rasonic RIC-GS21E è¼•ä¾¿å¼é›»ç£çˆ</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-09" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-E">E</div>
        <div class="prize-name">å¾·åœ‹å¯¶ German Pool KTT-109 ä¾¿æ”œ æ‘ºç–Šå¼ æ—…è¡Œé›»ç†±æ°´å£º 0.6å…¬å‡ | ç™½è‰²/å•¡è‰²</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-10" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-E">E</div>
        <div class="prize-name">æ¨‚è² Panasonic EW-1411 å……é›»å¼æ°´ç‰™ç·š</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-11" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-E">E</div>
        <div class="prize-name">ç™¾ä½³ HK$500 Coupon</div>
        <div class="remaining">2/2</div>
      </div>

      <div class="prize" id="prize-12" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-E">E</div>
        <div class="prize-name">Marketplace HK$500 Coupon</div>
        <div class="remaining">5/5</div>
      </div>

      <div class="prize" id="prize-13" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-E">E</div>
        <div class="prize-name">Mannings HK$500 Coupon</div>
        <div class="remaining">2/2</div>
      </div>

      <div class="prize" id="prize-14" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-F">F</div>
        <div class="prize-name">BRUNO ç„¡ç·šä¾¿æ”œæ”ªæ‹Œæ¯ | ç²‰è—è‰²</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-15" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-F">F</div>
        <div class="prize-name">BRUNO æ‰‹æ²–æ»´æ¼å’–å•¡æ¯ | è±¡ç‰™ç™½è‰²</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-16" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-F">F</div>
        <div class="prize-name">1Chiban BR-PTC21 PTCé™¶ç“·é˜²æ°´éœ§æš–é¢¨æ©Ÿ</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-17" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-F">F</div>
        <div class="prize-name">æ­å§†é¾ Omron HEM-8712 æ‰‹è‡‚å¼é›»å­è¡€å£“è¨ˆ</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-18" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-F">F</div>
        <div class="prize-name">ç™¾ä½³ HK$300 Coupon</div>
        <div class="remaining">2/2</div>
      </div>

      <div class="prize" id="prize-19" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-F">F</div>
        <div class="prize-name">Marketplace HK$300 Coupon</div>
        <div class="remaining">4/4</div>
      </div>

      <div class="prize" id="prize-20" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-F">F</div>
        <div class="prize-name">Mannings HK$300 Coupon</div>
        <div class="remaining">2/2</div>
      </div>

      <div class="prize" id="prize-21" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-G">G</div>
        <div class="prize-name">BRUNO ä¸éŠ¹é‹¼ä¿æº«æ¯ | ç¶ è‰²</div>
        <div class="remaining">4/4</div>
      </div>

      <div class="prize" id="prize-22" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-G">G</div>
        <div class="prize-name">Oral B æˆäººé›»å‹•ç‰™åˆ· Vitality Plus</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-23" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-G">G</div>
        <div class="prize-name">å°ç±³é«”è„‚è¨ˆS400 | è—è‰²</div>
        <div class="remaining">1/1</div>
      </div>

      <div class="prize" id="prize-24" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-G">G</div>
        <div class="prize-name">ç™¾ä½³ HK$200 Coupon</div>
        <div class="remaining">2/2</div>
      </div>

      <div class="prize" id="prize-25" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-G">G</div>
        <div class="prize-name">Marketplace HK$200 Coupon</div>
        <div class="remaining">3/3</div>
      </div>

      <div class="prize" id="prize-26" style="filter: contrast(1);">
        <div class="prize-cat prize-cat-G">G</div>
        <div class="prize-name">Mannings HK$200 Coupon</div>
        <div class="remaining">2/2</div>
      </div>

    </div>

</body>

<script>
  function loadDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        try {
          result = JSON.parse(this.responseText);
          result.Items.forEach(function(item) {
            try {
              //console.log(item);
              id = "prize-" + item.id.S;
              document.getElementById(id).getElementsByClassName("prize-name")[0].innerHTML = item.name.S;
              total = document.getElementById(id).getElementsByClassName("remaining")[0].innerHTML.split("/")[1];
              document.getElementById(id).getElementsByClassName("remaining")[0].innerHTML = item.qty.N + "/" + total;
              if (parseInt(item.qty.N) == 0) {
                document.getElementById(id).style.filter = "contrast(0.3)";
              } else {
                document.getElementById(id).style.filter = "contrast(1)";
              }
            } catch (e) {
              console.error("Error parsing item: ", e);
            }

          });

        } catch (e) {
          console.error("Error parsing JSON: ", e);
          console.log("Response: ", this.responseText);
        }
      }
    };
    xhttp.open("GET", "https://znojd4bork.execute-api.ap-southeast-1.amazonaws.com/default/listdb?httpMethod=GET", true);
    xhttp.send();
  }
  loadDoc()
  setInterval(loadDoc, 10000)
  </script>
  

</html>
